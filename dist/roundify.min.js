"use strict";!function(t){var n=function(t,n,i,o,e,a,s){function r(t,n,i,o){var e=(o-90)*Math.PI/180;return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function c(t,n,i,o,e){var a=r(t,n,i,e),s=r(t,n,i,o),c=180>=e-o?"0":"1",f=["M",a.x,a.y,"A",i,i,0,c,0,s.x,s.y].join(" ");return f}var f=this,h=e;this.endPoint=0,this.init=function(){var e=t.color||i,a=t.percent,s=a/100*360,r=5;f.from=c(o.pos.x,o.pos.y,o.radius,n+r,n+r),f.path=c(o.pos.x,o.pos.y,o.radius,n+r,n+s-r),f.loopLength=Snap.path.getTotalLength(f.path),f.endPoint=n+s,f.draw=h.path({stroke:e,fillOpacity:0,strokeWidth:0,strokeLinecap:"round"})},this.getEndPoint=function(){return f.endPoint},this.init()};t.Arc=n}(window),function(t){var n=function(t,n,i){var o=this,e=t;this.init=function(t,n){this.configs=n,this.data=t;var i=this.constructLegend(t,o.configs.colors);i.attr({transform:"translate(0, -"+i.getBBox().height/2+")"}).animate({opacity:1},600)},this.constructLegend=function(t,n){var i=e.g().attr({opacity:0}),a=o.configs.pos.x,s=o.configs.pos.y;return t.forEach(function(t,r){var c=t.color||n[r],f=e.circle(a,s-5,5).attr({fill:c}),h=e.text(a+20,s,t.name).attr({fontFamily:o.configs.font.fontFamily,fontSize:o.configs.font.fontSize,fill:o.configs.font.fill}),u=e.text(a+200,s,t.value).attr({fontFamily:o.configs.font.fontFamily,fontSize:o.configs.font.fontSize,fill:o.configs.font.fill,fontWeight:"700",textAnchor:"end"});i.add(e.g(f,h,u)),s+=2*parseInt(o.configs.font.fontSize,10)}),i}};t.Legend=n}(window),function(t){var n=function(t,n,i){};t.MainData=n}(window),function(t){var n=function(t,n,i){function o(){var t=s.arcs;Snap.animate(0,t[r].loopLength,function(n){t[r].draw.attr({path:Snap.path.getSubpath(t[r].path,0,n),transform:"translate("+2*s.configs.pos.x+"), scale(-1, 1)",strokeWidth:s.configs.stroke})},400,mina.easeInOut,function(){r>0&&(r--,s.animate())})}function e(){var t=s.arcs;t.forEach(function(t){Snap.animate(0,t.loopLength,function(n){t.draw.attr({path:Snap.path.getSubpath(t.path,0,n),transform:"translate("+2*s.configs.pos.x+"), scale(-1, 1)",strokeWidth:s.configs.stroke})},400,mina.easeInOut)})}function a(){var t=s.arcs;t.forEach(function(t){t.draw.attr({path:Snap.path.getSubpath(t.path,0,t.loopLength),transform:"translate("+2*s.configs.pos.x+"), scale(-1, 1)",strokeWidth:s.configs.stroke})})}var s=this,r=0;this.arcs=[],this.configs={},this.init=function(o,e){this.configs=e;var a=this.convertToPercent(o);a.forEach(function(o,e){s.arcs.push(new Arc(o,s.configs.nowPoint,s.configs.colors[e],s.configs,t,n,i)),s.configs.nowPoint=s.arcs[e].getEndPoint()}),r=s.arcs.length-1,setTimeout(function(){s.animate()},200)},this.convertToPercent=function(t){var n=_.sum(t,function(t){return t.value});return t.forEach(function(i,o){t[o].percent=100*i.value/n}),t},this.animate=function(){switch(s.configs.animation.type){case"smooth":o();break;case"parallel":e();break;default:a()}}};t.RoundifyCircle=n}(window);var Roundify=function(t,n,i){function o(t){var n;switch(t){case"right":n={circle:{x:10+r.configs.legend.radius,y:s},legend:{x:2*r.configs.legend.radius+50,y:s}};break;case"bottom":n={x:a,y:10+r.configs.legend.radius};break;default:n={x:a,y:s}}return n}var e=Snap("#"+t),a=document.getElementById(t).offsetWidth/2,s=document.getElementById(t).offsetHeight/2,r=this;this.configs={},this.round=new RoundifyCircle(e,a,s),this.legend=new Legend(e,a,s),this.mainData=new MainData(e,a,s),this["default"]={circle:{pos:"center",radius:100,nowPoint:0,stroke:8,colors:["#3498db","#1abc9c","#9b59b6"],animation:{type:"parallel"}},legend:{pos:"right",colors:["#3498db","#1abc9c","#9b59b6"],font:{fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px",fill:"#575757"}},mainData:{value:"32%"}},this.init=function(){this.configs=i?this.extend(this["default"],i):this["default"],this.configs.legend.radius=this.configs.circle.radius;var t=o(r.configs.legend.pos||!1);this.configs.circle.pos=t.circle,this.configs.legend.pos=t.legend,this.round.init(n,r.configs.circle),this.legend.init(n,r.configs.legend)},this.extend=function(t){for(var n=t||{},i=1;i<arguments.length;i++){var o=arguments[i];if(o)for(var e in o)o.hasOwnProperty(e)&&("object"==typeof o[e]?r.extend(n[e],o[e]):n[e]=o[e])}return n},this.init()};